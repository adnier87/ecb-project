(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{128:function(e,t,c){},129:function(e,t,c){},239:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),r=c(14),o=c.n(r),i=(c(128),c(129),c(22)),s=c(275),j=c(284),l=c(283),d=c(285),b=c(286),O=c(242),u=c(287),x=c(296),h=c(288),m=c(297),p=c(289),f=c(290),v=c(293),g=c(291),y=c(292),S=c(294),k=c(42),w=c.n(k),C=c(66),D=c(67),E=c.n(D),N=function(){var e=Object(C.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get("/api/vehicles");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(C.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.post("/api/vehicle/".concat(t._id),{person:t.person,estimateDate:t.date});case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),F=c(278),T=c(280),I=c(281),J=c(282),M=c.p+"static/media/Car-Not-Found.dac5f5e5.png",_=c(6),z=Object(s.a)({root:{"&:hover":{transform:"scale(1.03)"}}}),V=function(e){var t=e.data,c=e.onClickCard,a=z(),r=Object(n.useState)(!1),o=Object(i.a)(r,2),s=o[0],j=o[1];return Object(_.jsx)(F.a,{className:a.root,onClick:function(){c(t._id),j(!s)},children:Object(_.jsxs)(T.a,{className:s?"selected":"",component:"a",children:[Object(_.jsx)(I.a,{component:"img",alt:"".concat(t.make," ").concat(t.model),title:"".concat(t.make," ").concat(t.model),image:t.image,height:"180",onError:function(e){e.target.src=M}}),Object(_.jsx)(J.a,{children:Object(_.jsxs)(l.a,{container:!0,children:[Object(_.jsx)(l.a,{item:!0,xs:6,children:Object(_.jsx)(O.a,{variant:"body2",component:"p",color:"textPrimary",children:Object(_.jsx)("strong",{children:"Fabricante"})})}),Object(_.jsx)(l.a,{item:!0,xs:6,children:Object(_.jsx)(O.a,{variant:"body2",component:"p",color:"textSecondary",children:t.make})}),Object(_.jsx)(l.a,{item:!0,xs:6,children:Object(_.jsx)(O.a,{variant:"body2",component:"p",color:"textPrimary",children:Object(_.jsx)("strong",{children:"Modelo"})})}),Object(_.jsx)(l.a,{item:!0,xs:6,children:Object(_.jsx)(O.a,{variant:"body2",component:"p",color:"textSecondary",children:t.model})}),Object(_.jsx)(l.a,{item:!0,xs:6,children:Object(_.jsx)(O.a,{variant:"body2",component:"p",color:"textPrimary",children:Object(_.jsx)("strong",{children:"Kilometraje"})})}),Object(_.jsx)(l.a,{item:!0,xs:6,children:Object(_.jsx)(O.a,{variant:"body2",component:"p",color:"textSecondary",children:t.km?"".concat(t.km,"km"):"--"})}),Object(_.jsx)(l.a,{item:!0,xs:6,children:Object(_.jsx)(O.a,{variant:"body2",component:"p",color:"textPrimary",children:Object(_.jsx)("strong",{children:"Fecha"})})}),Object(_.jsx)(l.a,{item:!0,xs:6,children:Object(_.jsx)(O.a,{variant:"body2",component:"p",color:"textSecondary",children:t.estimatedate||"--"})}),Object(_.jsx)(l.a,{item:!0,xs:6,children:Object(_.jsx)(O.a,{variant:"body2",component:"p",color:"textPrimary",children:Object(_.jsx)("strong",{children:"Descripci\xf3n"})})}),Object(_.jsx)(l.a,{item:!0,xs:6,children:Object(_.jsx)(O.a,{variant:"body2",component:"p",color:"textSecondary",children:t.description||"--"})})]})})]})})},q=c(111),A=c.n(q),B=(c(154),Object(s.a)({dialog:{position:"unset"}})),H=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(!0),o=Object(i.a)(r,2),s=o[0],k=o[1],w=Object(n.useState)(!0),C=Object(i.a)(w,2),D=C[0],E=C[1],F=Object(n.useState)(!1),T=Object(i.a)(F,2),I=T[0],J=T[1],M=Object(n.useState)(!1),z=Object(i.a)(M,2),q=z[0],H=z[1],K=Object(n.useState)(""),L=Object(i.a)(K,2),Y=L[0],G=L[1],Q=Object(n.useState)(!1),R=Object(i.a)(Q,2),U=R[0],W=R[1],X=Object(n.useState)(new Date),Z=Object(i.a)(X,2),$=Z[0],ee=Z[1],te=Object(n.useState)(""),ce=Object(i.a)(te,2),ne=ce[0],ae=ce[1],re=Object(n.useState)(0),oe=Object(i.a)(re,2),ie=oe[0],se=oe[1];B();Object(n.useEffect)((function(){Y&&!q&&H(!0)}),[Y]),Object(n.useEffect)((function(){N().then((function(e){if(e.error)throw e.error;a(e),E(!1),setTimeout((function(){k(!1)}),5e3),J(!0),console.log("All vehicles were gotten")})).catch((function(e){console.error("Error from VehicleListing trying to get vehicles::: ".concat(e))}))}),[]);var je=function(e){se(e),W(!0)};return Object(_.jsxs)("div",{children:[s&&Object(_.jsx)(j.a,{in:D,children:Object(_.jsx)("div",{className:"loader",children:Object(_.jsx)(l.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:Object(_.jsx)(d.a,{size:"12rem"})})})}),Object(_.jsxs)(b.a,{children:[Object(_.jsx)(O.a,{variant:"h4",component:"h4",children:"Vehiculos en mantenimiento"}),Object(_.jsx)(l.a,{container:!0,spacing:3,children:c.length>0&&c.map((function(e,t){return Object(_.jsx)(u.a,{in:I,style:{transformOrigin:"0 0 0"},timeout:1e3*t,children:Object(_.jsx)(l.a,{item:!0,xs:12,sm:6,md:3,children:Object(_.jsx)(V,{onClickCard:je,data:e})})})}))})]}),Object(_.jsx)(x.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:q,autoHideDuration:4e3,TransitionComponent:h.a,children:Object(_.jsx)(S.a,{onClose:function(){H(!1),setTimeout((function(){G("")}),6e3)},severity:"success",children:Y})}),Object(_.jsxs)(m.a,{open:U,className:"main-dialog",children:[Object(_.jsx)(p.a,{children:"Ingreso de datos"}),Object(_.jsxs)(f.a,{children:[Object(_.jsx)(v.a,{required:!0,id:"person-input",label:"Persona",onChange:function(e){ae(e.target.value)}}),Object(_.jsx)(A.a,{selected:$,onChange:function(e){ee(e)}})]}),Object(_.jsxs)(g.a,{children:[Object(_.jsx)(y.a,{onClick:function(){W(!1),ae(""),ee(new Date)},color:"primary",children:"Cancelar"}),Object(_.jsx)(y.a,{onClick:function(){var e=$.getDate(),t=$.getMonth()+1,c=$.getFullYear(),n="";n=t<10?"".concat(e,"/0").concat(t,"/").concat(c):"".concat(e,"/").concat(t,"/").concat(c);var a={_id:ie,person:ne,date:n};console.log("Sending data::: ".concat(JSON.stringify(a))),P(a),W(!1),setTimeout((function(){ae(""),ee(new Date)}),500)},color:"primary",children:"Enviar"})]})]})]})};var K=function(){return Object(_.jsx)(H,{})};o.a.render(Object(_.jsx)(a.a.StrictMode,{children:Object(_.jsx)(K,{})}),document.getElementById("root"))}},[[239,1,2]]]);
//# sourceMappingURL=main.b753e323.chunk.js.map