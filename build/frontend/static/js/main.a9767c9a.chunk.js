(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{128:function(e,t,c){},129:function(e,t,c){},239:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),r=c(14),o=c.n(r),i=(c(128),c(129),c(22)),s=c(275),j=c(284),l=c(283),d=c(285),b=c(286),u=c(242),O=c(287),h=c(296),m=c(288),x=c(297),p=c(289),f=c(290),g=c(293),v=c(291),y=c(292),S=c(294),k=c(42),w=c.n(k),C=c(66),D=c(67),E=c.n(D),N=function(){var e=Object(C.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get("/api/vehicles");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(C.a)(w.a.mark((function e(t){var c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.post("/api/vehicle/".concat(t._id),{person:t.person,estimateDate:t.date});case 3:return c=e.sent,e.abrupt("return",c.data);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),_=c(278),F=c(280),T=c(281),I=c(282),J=c.p+"static/media/Car-Not-Found.dac5f5e5.png",M=c(6),z=Object(s.a)({root:{"&:hover":{transform:"scale(1.03)"}}}),V=function(e){var t=e.data,c=e.onClickCard,a=z(),r=Object(n.useState)(!1),o=Object(i.a)(r,2),s=o[0],j=o[1];return Object(M.jsx)(_.a,{className:a.root,onClick:function(){c(t._id),j(!s)},children:Object(M.jsxs)(F.a,{className:s?"selected":"",component:"a",children:[Object(M.jsx)(T.a,{component:"img",alt:"".concat(t.make," ").concat(t.model),title:"".concat(t.make," ").concat(t.model),image:t.image,height:"180",onError:function(e){e.target.src=J}}),Object(M.jsx)(I.a,{children:Object(M.jsxs)(l.a,{container:!0,children:[Object(M.jsx)(l.a,{item:!0,xs:6,children:Object(M.jsx)(u.a,{variant:"body2",component:"p",color:"textPrimary",children:Object(M.jsx)("strong",{children:"Fabricante"})})}),Object(M.jsx)(l.a,{item:!0,xs:6,children:Object(M.jsx)(u.a,{variant:"body2",component:"p",color:"textSecondary",children:t.make})}),Object(M.jsx)(l.a,{item:!0,xs:6,children:Object(M.jsx)(u.a,{variant:"body2",component:"p",color:"textPrimary",children:Object(M.jsx)("strong",{children:"Modelo"})})}),Object(M.jsx)(l.a,{item:!0,xs:6,children:Object(M.jsx)(u.a,{variant:"body2",component:"p",color:"textSecondary",children:t.model})}),Object(M.jsx)(l.a,{item:!0,xs:6,children:Object(M.jsx)(u.a,{variant:"body2",component:"p",color:"textPrimary",children:Object(M.jsx)("strong",{children:"Kilometraje"})})}),Object(M.jsx)(l.a,{item:!0,xs:6,children:Object(M.jsx)(u.a,{variant:"body2",component:"p",color:"textSecondary",children:t.km?"".concat(t.km,"km"):"--"})}),Object(M.jsx)(l.a,{item:!0,xs:6,children:Object(M.jsx)(u.a,{variant:"body2",component:"p",color:"textPrimary",children:Object(M.jsx)("strong",{children:"Fecha"})})}),Object(M.jsx)(l.a,{item:!0,xs:6,children:Object(M.jsx)(u.a,{variant:"body2",component:"p",color:"textSecondary",children:t.estimatedate||"--"})}),Object(M.jsx)(l.a,{item:!0,xs:6,children:Object(M.jsx)(u.a,{variant:"body2",component:"p",color:"textPrimary",children:Object(M.jsx)("strong",{children:"Descripci\xf3n"})})}),Object(M.jsx)(l.a,{item:!0,xs:6,children:Object(M.jsx)(u.a,{variant:"body2",component:"p",color:"textSecondary",children:t.description||"--"})})]})})]})})},q=c(111),A=c.n(q),B=(c(154),Object(s.a)({dialog:{position:"unset"}})),H=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(!0),o=Object(i.a)(r,2),s=o[0],k=o[1],w=Object(n.useState)(!0),C=Object(i.a)(w,2),D=C[0],E=C[1],_=Object(n.useState)(!1),F=Object(i.a)(_,2),T=F[0],I=F[1],J=Object(n.useState)(!1),z=Object(i.a)(J,2),q=z[0],H=z[1],K=Object(n.useState)({message:"",type:"success"}),L=Object(i.a)(K,2),Y=L[0],G=L[1],Q=Object(n.useState)(!1),R=Object(i.a)(Q,2),U=R[0],W=R[1],X=Object(n.useState)(new Date),Z=Object(i.a)(X,2),$=Z[0],ee=Z[1],te=Object(n.useState)(""),ce=Object(i.a)(te,2),ne=ce[0],ae=ce[1],re=Object(n.useState)(0),oe=Object(i.a)(re,2),ie=oe[0],se=oe[1];B();Object(n.useEffect)((function(){""===Y.message||q||H(!0)}),[Y]),Object(n.useEffect)((function(){N().then((function(e){if(e.error)throw e.error;a(e),E(!1),setTimeout((function(){k(!1)}),5e3),I(!0),console.log("All vehicles were gotten")})).catch((function(e){console.error("Error from VehicleListing trying to get vehicles::: ".concat(e))}))}),[]);var je=function(e){se(e),W(!0)};return Object(M.jsxs)("div",{children:[s&&Object(M.jsx)(j.a,{in:D,children:Object(M.jsx)("div",{className:"loader",children:Object(M.jsx)(l.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:Object(M.jsx)(d.a,{size:"12rem"})})})}),Object(M.jsxs)(b.a,{children:[Object(M.jsx)(u.a,{variant:"h4",component:"h4",children:"Vehiculos en mantenimiento"}),Object(M.jsx)(l.a,{container:!0,spacing:3,children:c.length>0&&c.map((function(e,t){return Object(M.jsx)(O.a,{in:T,style:{transformOrigin:"0 0 0"},timeout:1e3*t,children:Object(M.jsx)(l.a,{item:!0,xs:12,sm:6,md:3,children:Object(M.jsx)(V,{onClickCard:je,data:e})})})}))})]}),Object(M.jsx)(h.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:q,autoHideDuration:4e3,TransitionComponent:m.a,children:Object(M.jsx)(S.a,{onClose:function(){H(!1),setTimeout((function(){G({message:"",type:"success"})}),6e3)},severity:Y.type,children:Y.message})}),Object(M.jsxs)(x.a,{open:U,className:"main-dialog",children:[Object(M.jsx)(p.a,{children:"Ingreso de datos"}),Object(M.jsxs)(f.a,{children:[Object(M.jsx)(g.a,{required:!0,id:"person-input",label:"Persona",onChange:function(e){ae(e.target.value)}}),Object(M.jsx)(A.a,{selected:$,onChange:function(e){ee(e)}})]}),Object(M.jsxs)(v.a,{children:[Object(M.jsx)(y.a,{onClick:function(){W(!1),ae(""),ee(new Date)},color:"primary",children:"Cancelar"}),Object(M.jsx)(y.a,{onClick:function(){var e=$.getDate(),t=$.getMonth()+1,n=$.getFullYear(),r="";r=t<10?"".concat(e,"/0").concat(t,"/").concat(n):"".concat(e,"/").concat(t,"/").concat(n);var o={_id:ie,person:ne,date:r};console.log("Sending data::: ".concat(JSON.stringify(o))),P(o).then((function(e){var t=c.map((function(t){return t._id===e._id&&(t=e),t}));a(t),G({message:"Se ha asignado correctamente el vehiculo ".concat(e.id," al cliente ").concat(e.person),type:"success"})})).catch((function(e){G({message:e,type:"error"})})),W(!1),setTimeout((function(){ae(""),ee(new Date)}),500)},color:"primary",children:"Enviar"})]})]})]})};var K=function(){return Object(M.jsx)(H,{})};o.a.render(Object(M.jsx)(a.a.StrictMode,{children:Object(M.jsx)(K,{})}),document.getElementById("root"))}},[[239,1,2]]]);
//# sourceMappingURL=main.a9767c9a.chunk.js.map